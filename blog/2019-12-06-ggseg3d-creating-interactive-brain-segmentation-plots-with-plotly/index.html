<!DOCTYPE html>
<html lang="">
    <head>
        
            <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<title>
Ggseg3d Creating Interactive Brain Segmentation Plots With Plotly - Dr. Mowinckel&rsquo;s
</title>



            <meta property="og:title" content="ggseg3d - creating interactive brain segmentation plots with plotly - Dr. Mowinckel&rsquo;s" />
<meta property="og:type" content="website" />
<meta property="og:description" content=""/>
<meta property="og:url" content="https://drmowinckels.io/blog/2019-12-06-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly/"/>
<meta property="og:site_name" content="Dr. Mowinckel&rsquo;s"/>



<meta property="og:image" content="https://drmowinckels.io/blog/2019-12-06-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly/ggseg3d_still.png"/>



            
<link rel="shortcut icon" href="https://drmowinckels.io/img/fav.ico.png">


            


  
  
  
  <link rel="stylesheet" href="https://drmowinckels.io/css/main.min.8235b6920080e0a7f838f3272dcefed35808d4bd218e9f51f867612e95cab156.css" integrity="sha256-gjW2kgCA4Kf4OPMnLc7&#43;01gI1L0hjp9R&#43;GdhLpXKsVY=" crossorigin="anonymous" media="screen">




    <link rel="stylesheet" href="https://drmowinckels.io/css/syntax.css" integrity="" crossorigin="anonymous" media="screen">
    <link rel="stylesheet" href="https://drmowinckels.io/css/custom-style.css" integrity="" crossorigin="anonymous" media="screen">
        
        
        
        
    </head>
    <body> 
        <section id="top" class="section">
            
            <div class="container hero  fade-in one " style="background-image: url(/img/logo_large.svg);">
                
                

<h1 class="bold-title is-1">Blog</h1>


            </div>
            
            <div class="section  fade-in two ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
                
                    
                        <a class="navbar-item" href="https://drmowinckels.io/">
                            
                            Home
                            
                        </a>
                    
                
                    
                        <a class="navbar-item" href="https://drmowinckels.io/about">
                            
                            About
                            
                        </a>
                    
                
                    
                        <a class="navbar-item" href="https://drmowinckels.io/#blog">
                            
                            Blog
                            
                        </a>
                    
                
                    
                        <a class="navbar-item" href="https://drmowinckels.io/#contact">
                            
                            Contact
                            
                        </a>
                    
                
            
        </div>
    </nav>
    <hr>
</div>



                
<div class="container">
    <h2 class="title is-1 top-pad strong-post-title">
        <a href="https://drmowinckels.io/blog/2019-12-06-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly/">ggseg3d - creating interactive brain segmentation plots with plotly</a>
    </h2>
    <div class="post-data">
        Dec 6, 2019 |
        3 minutes read
    </div>
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      
     <p>
         Tags:
          
           <a href="https://drmowinckels.io/tags/packages">
             Packages</a>,
         
           <a href="https://drmowinckels.io/tags/neuroimaging">
             Neuroimaging</a>,
         
           <a href="https://drmowinckels.io/tags/plots">
             Plots</a>,
         
           <a href="https://drmowinckels.io/tags/r">
             R</a>
         
        </p>
      
    
      
    

    
</div>

<div class="container markdown top-pad">
    <p>Looking through my blogposts, I realised I&rsquo;ve never written about my colleague Didac and my package for 3d mesh plots of brain atlases using plotly.
I&rsquo;ve already showed some functionality from out {ggseg}-package, <a href="blog/introducing-the-ggseg-r-package-for-brain-segmentations/">in the introductory blogpost</a> and <a href="blog/get-the-brain-animated/">follow-up on animating it</a>.</p>
<p>I guess it&rsquo;s extra timely to do it now, as we recently split the mesh-plot function off the main {ggseg}-package and into it&rsquo;s own package, and also did some re-writing of core-functionality of the package.
Like the {ggseg}-package, {ggseg3d} is made to plot brain atlas data.
In Neuroimaging, it is quite common to use these pre-defined areas of the brain, defined through functional or structural qualitites.
Since the brain has three dimensions, we thought it would be neat to actually have a plot where you would actually look at the brain at all angles, and also be able to interact with it.</p>
<p>So started my long and arduous search for tri-surface mesh plots, and plotly became the obvious candidate.
I had little to no experience with plotly, or with mesh-plots, so it was a real struggle.
But I&rsquo;m happy I stuck with it, and managed to make a tool that I now am really proud of.
There are still lots of things to improve, but I believe the core-funcitonality is in place now, and everything else is a bonus!</p>

<h1 id="get-3d-plotting" class="anchor-link"><a href="#get-3d-plotting">Get 3d-plotting</a></h1>
<p>{ggseg3d} can be installed from our works github account, using remotes</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="n">remotes</span><span class="o">::</span><span class="nf">install_github</span><span class="p">(</span><span class="s">&#34;LCBC-UiO/ggseg3d&#34;</span><span class="p">)</span>
</code></pre></div><p>And off the bat, it should be fairly easy to use, or atleast make the first plot.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="nf">library</span><span class="p">(</span><span class="n">ggseg3d</span><span class="p">)</span>
<span class="nf">ggseg3d</span><span class="p">()</span>
</code></pre></div><!--html_preserve--><iframe src="ggseg_1_widget.html" width="100%" height="500px"></iframe><!--/html_preserve-->
<p>It plots the right hemisphere of the <code>dkt_3d</code> dataset, which is the Desikan-Killany atlas, a Freesurfer default.
You can easily interact with the plot, turn it, pan it, swivel it.
Have at it, have fun!</p>
<p>The function takes several arguments:</p>
<pre tabindex="0"><code>.data	
A data.frame to use for plot aesthetics. Must include a column called &quot;area&quot; corresponding to areas.

atlas	
Either a string with the name of a 3d atlas to use.

surface	
String. Which surface to plot. Either &quot;pial&quot;,&quot;white&quot;, or &quot;inflated&quot;[default]

hemisphere	
String. Hemisphere to plot. Either &quot;left&quot; or &quot;right&quot;[default], can also be &quot;subcort&quot;.

label	
String. Quoted name of column in atlas/data that should be used to name traces

text	
String. Quoated name of column in atlas/data that should be added as extra information in the hover text.

colour	
String. Quoted name of column from which colour should be supplied

palette	
String. Either name of paletteer palette or vector of hex colours, used if colour is numeric.

na.colour	
String. Either name, hex of RGB for colour of NA in colour.

na.alpha	
Numeric. A number between 0 and 1 to control transparency of NA-regions.

show.legend	
Logical. Toggle legend if colour is numeric.
</code></pre><p><img src="ggseg3d_still.png" alt=""></p>


    
    <h3>Citation</h3>
    <div class="columns">
      <div class="column is-half">
        For attribution, please cite this work as
        <div class="highlight" style="border: 1px solid grey">
          <p style="padding: 1em;font-family: 'monospace">
            DrMowinckels (Dec 6, 2019) ggseg3d - creating interactive brain segmentation plots with plotly. Retrieved from https://drmowinckels.io/blog/2019-12-06-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly/
          </p>
        </div>
      </div>
      <div class="column is-half">
        <b>BibTeX citation</b>
        <div class="highlight" style="border: 1px solid grey">
          <p style="padding: 1em;font-family: 'monospace">
            @misc{ 2019-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly,<br>
            &emsp;author = { DrMowinckels },<br>
            &emsp;title = { ggseg3d - creating interactive brain segmentation plots with plotly },<br>
            &emsp;url = { https://drmowinckels.io/blog/2019-12-06-ggseg3d-creating-interactive-brain-segmentation-plots-with-plotly/ },<br>
            &emsp;year = { 2019 }<br>
            &emsp;updated = { Nov 3, 2023 }<br>
            }
          </p>
        </div>
      </div>
    </div>
  

</div>


<div class="container giscus my-4">
    <script src="https://giscus.app/client.js"
        data-repo=DrMowinckels/DrMowinckels
        data-repo-id=MDEwOlJlcG9zaXRvcnkxMjM0NzEwMTI&#61;
        data-category=Comments
        data-category-id=DIC_kwDOB1wEpM4CAG0c
        data-mapping=pathname
        data-reactions-enabled=1
        data-emit-metadata=0
        data-theme=light
        data-lang=en
        crossorigin="anonymous"
        async>
    </script>
</div>



                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <span class="footer-text">
            Athanasia Monika Mowinckel <i class="fab fa-creative-commons" aria-hidden="true"></i>-<i class="fab fa-creative-commons-by"></i>-<i class="fab fa-creative-commons-sa"></i>-2020. Feeding to <a href="https://rweekly.org'">R weekly</a>. View source code on <a href="https://github.com/Athanasiamo/DrMowinckels"><i class="fab fa-github"></i></a>.
        </span>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://drmowinckels.io/js/bundle.f1741e9868b2f697e71cf8fccfcc12166540999b3d36f8fb9edd0882ba425d55.js" integrity="sha256-8XQemGiy9pfnHPj8z8wSFmVAmZs9Nvj7nt0IgrpCXVU=" crossorigin="anonymous">></script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-115545202-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>








  <script defer data-domain=drmowinckels.io src="https://plausible.io/js/plausible.js"></script>






        
        
        
        
    </body>
</html>
